<!DOCTYPE html>
<meta charset="UTF-8">

<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<!-- Stylesheets for current page -->
<link rel="stylesheet" href="../index.css">
<link rel="stylesheet" href="index.css">
<!-- jQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<!-- Latest compiled JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<!-- Font Awesome -->
<link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css" rel="stylesheet">
<link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">
<!-- Chartist.js -->
<link rel="stylesheet" href="//cdn.jsdelivr.net/chartist.js/latest/chartist.min.css">
<script src="//cdn.jsdelivr.net/chartist.js/latest/chartist.min.js"></script>


<script>
  var optionCount = 0;

  function addOption(){
    $("#poll-form").append($('<div class="separator-md"></div>'));
    optionCount += 1;   
    var e = '<div id="option' + optionCount + '" class="row"><div class="col-md-1"><span>Option ' + optionCount + '</span></div><div class="col-md-11 big-line"><input id="opt' + optionCount + '" type="textarea" class="form-control" placeholder="Type an answer for the poll here"/></div></div>'
    $("#poll-form").append($(e));
  }

  $(document).ready(function(){ addOption(); addOption(); addOption();});

  function removeOption(){
    $("#poll-form separator-md").last().remove();
    $("#option" + optionCount).remove();
    optionCount -= 1;
  }

  $(document).on("click", "#add-option", addOption);
  $(document).on("click", "#remove-option", removeOption);

  $(document).on("click", "#start_polling", function(){
    $("#add_or_remove_options").hide();
    $("#response_counter").show();
    $(this).hide();
    $("#stop_polling").show();
    $(".form-control").attr("disabled", "disabled");
  });
</script>

<body class="container page-container">
  <div class="box" style="background-color: none !important;">
    <div id="heading">
      <div class="row">
        <div class="col-md-12">
          <a href="prof-ile.html" class="page-header center">
            <h1 style="font-size:100px;">Classroom Friend</h1>
          </a>
        </div>
      </div>
    </div>

    <div class="separator-md"></div>

    <div id="heading-2">
      <div class="row">
	<div class="col-md-4 big-btn">
	  <div class="row">

	    <div class="col-md-6"></div>
	    <div class="col-md-6">
	      <a href="course_page.html"><div class="btn btn-inverse fit pull-right" style="font-size: 30px; padding-top: 10px; padding-bottom: 10px; padding-right: 10px; opacity: 0.5"><i class="icon-arrow-left"></i> Back</div></a>
	    </div>
	  </div>
	</div>
        <div class="col-md-4">
          <span class="center" style="cursor:default">
            <h1 style="font-size:48px;">CHEM 110</h1>
          </span>
        </div>
	<div class="col-md-4"></div>
      </div>
    </div>

    <div class="row"><div class="col-md-12"><span>Question</span></div></div>
    <div class="separator-sm"></div>

    <div id="poll-form" class="form-group">

    <div class="row">
      <div class="col-md-12 big-line"><input type="textarea" class="form-control" placeholder="Type your question for the poll here"/></div>
    </div>

    <div class="separator-md"></div>

    </div>

    <div id="add_or_remove_options" class="row">
      <div class="col-md-2"></div>
      <div class="col-md-4"><div id="add-option" class="btn btn-inverse fit">Add Option</div></div>
      <div class="col-md-4"><div id="remove-option" class="btn btn-inverse fit">Remove Option</div></div>
      <div class="col-md-2"></div>
    </div>

    <div id="response_counter" class="row" style="display:none">
      <div class="col-md-4"></div>
      <div class="col-md-4"><div class="btn btn-inverse fit disabled">15 out of 20 students have answered</div></div>
      <div class="col-md-4"></div>
    </div>

    <div class="separator-md"></div>

    <div class="row">
      <div class="col-md-4"></div>
      <div class="col-md-4 big-line">
	<div id="start_polling" class="btn btn-inverse fit big-btn"><span>Initiate Polling</span></div>
        <div id="stop_polling" class="btn btn-inverse fit big-btn" style="display:none; cursor:pointer;"><span data-toggle="modal" data-target="#poll-results-modal">End poll and view results</span></div>
      </div>
      <div class="col-md-4"></div>
    </div>

  </div>
</body>

<div id="poll-results-modal" class="modal fade" data-backdrop="static" role="dialog" style="overflow-y: hidden !important">
  <div class="modal-dialog fit">
    <div class="modal-content" style="background-color:#4d4c4c; opacity:0.8;">
      <div class="modal-header">
        <h4 class="modal-title center" style="border:none;">Poll</h4>
      </div>
      <div class="modal-body">
        <div class="row" style="padding-left:10px">
          <div class="col-md-1"></div>
          <div class="col-md-10">
            <div class="separator-sm"></div>
            <div id="poll-question">
              <div class="row">
                <div class="col-md-1"></div>
                <div class="col-md-10 big-text center"><span>What is your favorite fruit?</span></div>
                <div class="col-md-1"></div>
              </div>
              <div class="separator-md"></div>
              <div class="row">
                <div class="col-md-12">
                  <div id="results_chart" class="ct-chart"></div>
                </div>
              </div>
             <div class="separator-md"></div>
             <div class="row">
		<div class="col-md-1"></div>
               <div class="col-md-4"><a href="poll_class.html"><div class="btn btn-inverse fit">New poll</div></a></div>
               <div class="col-md-6"><a href="course_page.html"><div class="btn btn-inverse fit">Return to question feed</div></a></div>
		<div class="col-md-1"></div>
             </div>
	     <div class="separator-md"></div>
          </div>
          <div class="col-md-1"></div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  var data= { labels: ['1', '2', '3'], series: [{data:[10, 5, 15]}]};
  var options = {
    axisX: {
      labelInterpolationFnc: function(value) {
        if(value=='1')
          return "Apple";
        else if(value=='2')
          return "Orange";
        else
          return "Banana";
      }
    }
  }
  var chart = new Chartist.Bar("#results_chart", data, options, null);

  $("#poll-results-modal").on("shown.bs.modal",function(e){
    chart.update();
  });

  $(document).on('click', ".modal-backdrop", function(){$(".modal").click();});
</script>
